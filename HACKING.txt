Basic get-you-up-and-running instructions.
(Temporary version for Rails 3 beta port)

REQUIREMENTS

 * Ruby ~>1.8.7 (initial tests on 1.9.x aren't promising)
 * RubyGems >=1.3.6
 * bundler gem ~> 0.9
 * MySQL, including client libraries (e.g. libmysqlclient-dev on Debian)

Additionally, on Debian:

 * ruby1.8-dev (to get mkmf.rb, which is not in the ruby1.8 package)
 * libopenssl-ruby1.8
 * libxml2
 * libxslt

SETUP

1. Grab the source:

  $ git clone git://github.com/chrismear/one-click-orgs.git
  $ cd one-click-orgs
  $ git checkout -b rails3 origin/rails3

2. Install the required gems using Bundler:

  $ bundle install  # installs gem system-wide

or

  $ bundle install vendor --disable-shared-gems # vendors everything, no system gems

3. Set up your database connection settings.

  $ cp config/database.yml.sample config/database.yml

Then edit config/database.yml as desired. 
If your database user doesn't have CREATE DATABASE permissions, create the databases manually, e.g.:

  $ mysql -u root -p
  mysql> create database one_click_development;
  mysql> create database one_click_test;
  mysql> exit;

4. (Create and) migrate the database:

  $ bundle exec rake db:setup

5. Copy the sample local settings file:
  
  $ cp config/initializers/local_settings.rb.sample config/initializers/local_settings.rb

then generate two secret keys for cookie storage:

  $ bundle exec rake secret
  $ bundle exec rake secret

and copy the results into your config/initializers/local_settings.rb.

You can also add custom SMTP settings here if 'localhost' won't do the job.

RUNNING

1. Start the web server:

  $ mkdir -p tmp/pids
  $ bundle exec rails server

2. (Optional) In another shell, start the job server (which sends emails and closes proposals):

  $ bundle exec rake jobs:work

3. Visit http://localhost:3000/

CONTRIBUTING

Before you submit any patches make sure that no tests fail:

  $ bundle exec rake spec
